(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[264],{5081:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/card",function(){return r(6662)}])},6662:function(e,n,r){"use strict";r.r(n);var t=r(8520),c=r.n(t),a=r(5893),s=r(7294),i=r(1163);function o(e,n,r,t,c,a,s){try{var i=e[a](s),o=i.value}catch(l){return void r(l)}i.done?n(o):Promise.resolve(o).then(t,c)}n.default=function(){var e,n=(0,i.useRouter)(),r=(0,s.useState)([]),t=r[0],l=r[1],u=(0,s.useState)(!0),d=u[0],h=u[1],f=(0,s.useState)(""),v=f[0],p=f[1],x=(e=c().mark((function e(r){var t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),l(a),h(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),alert("error try again later"),n.push("/");case 17:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var n=this,r=arguments;return new Promise((function(t,c){var a=e.apply(n,r);function s(e){o(a,t,c,s,i,"next",e)}function i(e){o(a,t,c,s,i,"throw",e)}s(void 0)}))});return(0,s.useEffect)((function(){p(n.query.id),console.log(v)})),(0,s.useEffect)((function(){if(v){var e="https://api.magicthegathering.io/v1/cards/".concat(v);x(e)}}),[v]),d?(0,a.jsx)("h3",{children:"Loading..."}):(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsx)("div",{className:"col",children:(0,a.jsx)("div",{className:"card-name",children:t.card.name})}),(0,a.jsx)("div",{className:"col",children:(0,a.jsx)("img",{src:t.card.imageUrl,alt:"{fetchedData.card.name}"})}),(0,a.jsxs)("div",{className:"col",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"legalities"}),t.card.legalities.map((function(e){return(0,a.jsxs)("div",{children:[e.format,": ",e.legality]},e.format)}))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"printings"}),t.card.printings.map((function(e){return(0,a.jsx)("span",{children:e},e)}))]})]})]})})}},1163:function(e,n,r){e.exports=r(387)}},function(e){e.O(0,[774,888,179],(function(){return n=5081,e(e.s=n);var n}));var n=e.O();_N_E=n}]);